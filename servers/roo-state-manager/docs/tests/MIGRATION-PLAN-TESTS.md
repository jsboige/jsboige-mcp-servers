# Plan de Migration D√©taill√© - R√©organisation Tests

**Date du plan** : 2025-10-02  
**R√©f√©rence** : NOUVEAU-LAYOUT-TESTS.md

---

## üéØ Vue d'Ensemble

Cette migration se fera en **8 √©tapes incr√©mentales** avec validation apr√®s chaque √©tape.

**Dur√©e estim√©e** : 45-60 minutes  
**Fichiers concern√©s** : 59 fichiers de tests + configurations

---

## ‚ö†Ô∏è Pr√©-requis Avant Migration

### 1. Sauvegardes
```powershell
# Cr√©er une branche Git d√©di√©e
git checkout -b refactor/tests-reorganization

# Commit de l'√©tat actuel
git add .
git commit -m "chore: state before tests reorganization"
```

### 2. Validation √âtat Initial
```powershell
# Ex√©cuter les tests pour avoir une baseline
cd mcps/internal/servers/roo-state-manager
npm test > pre-migration-results.log 2>&1
```

**Baseline attendue** : 14 suites passent, 166 tests passent

---

## üìã √âtape 1 : Cr√©ation de la Nouvelle Structure

### Actions
Cr√©er tous les r√©pertoires n√©cessaires pour la nouvelle organisation.

### Commandes
```powershell
cd mcps/internal/servers/roo-state-manager

# Cr√©er les r√©pertoires unit avec sous-cat√©gories
New-Item -ItemType Directory -Force -Path "tests/unit/services"
New-Item -ItemType Directory -Force -Path "tests/unit/utils"
New-Item -ItemType Directory -Force -Path "tests/unit/tools"
New-Item -ItemType Directory -Force -Path "tests/unit/gateway"

# Cr√©er les r√©pertoires integration avec sous-cat√©gories
New-Item -ItemType Directory -Force -Path "tests/integration/hierarchy"
New-Item -ItemType Directory -Force -Path "tests/integration/storage"
New-Item -ItemType Directory -Force -Path "tests/integration/api"

# Cr√©er les r√©pertoires e2e avec sous-cat√©gories
New-Item -ItemType Directory -Force -Path "tests/e2e/scenarios"

# Cr√©er r√©pertoires helpers et archive
New-Item -ItemType Directory -Force -Path "tests/helpers"
New-Item -ItemType Directory -Force -Path "tests/archive"
New-Item -ItemType Directory -Force -Path "tests/archive/manual"
New-Item -ItemType Directory -Force -Path "tests/archive/compiled"
```

### Validation
```powershell
# V√©rifier que tous les r√©pertoires sont cr√©√©s
Get-ChildItem -Path "tests" -Directory -Recurse | Select-Object FullName
```

**R√©sultat attendu** : 14 nouveaux r√©pertoires cr√©√©s

---

## üìã √âtape 2 : Archivage des Fichiers Compil√©s

### Actions
D√©placer tous les fichiers `.js`, `.d.ts`, `.js.map`, `.d.ts.map` vers l'archive.

### Commandes
```powershell
# D√©placer les fichiers compil√©s vers archive/compiled
Get-ChildItem -Path "tests" -Recurse -Include "*.test.js","*.test.d.ts","*.test.js.map","*.test.d.ts.map" | 
    ForEach-Object { Move-Item $_.FullName -Destination "tests/archive/compiled/" -Force }
```

### Cr√©er README.md d'explication
```powershell
@"
# Archive - Fichiers Compil√©s

Ces fichiers sont g√©n√©r√©s automatiquement par TypeScript lors du build.

## Raison de l'archivage
- Pollution du r√©pertoire source
- G√©n√©r√©s par \`npm run build:tests\`
- Doivent √™tre dans \`build/tests/\` uniquement

## Date d'archivage
2025-10-02

## Action recommand√©e
Ces fichiers peuvent √™tre supprim√©s en toute s√©curit√©.
"@ | Out-File -FilePath "tests/archive/compiled/README.md" -Encoding UTF8
```

### Validation
```powershell
# V√©rifier qu'il ne reste aucun .js ou .d.ts dans tests/ (hors archive)
Get-ChildItem -Path "tests" -Recurse -Include "*.test.js","*.test.d.ts" -Exclude "archive" | Measure-Object
```

**R√©sultat attendu** : 0 fichiers

---

## üìã √âtape 3 : Migration des Tests depuis src/

### Actions
D√©placer les tests de `src/` vers leur nouvel emplacement.

### 3.1 - Tests √† Archiver (manuels/vides)
```powershell
# Tests manuels/scripts de src/ vers archive/manual
Move-Item "src/test-detail-levels.ts" -Destination "tests/archive/manual/detail-levels-manual.ts"
Move-Item "src/test-enhanced-integration.ts" -Destination "tests/archive/manual/enhanced-integration-manual.ts"
Move-Item "src/test-hierarchy-fix.ts" -Destination "tests/archive/manual/hierarchy-fix-manual.ts"
Move-Item "src/test-hierarchy-limited.ts" -Destination "tests/archive/manual/hierarchy-limited-manual.ts"
Move-Item "src/test-hierarchy-reconstruction.ts" -Destination "tests/archive/manual/hierarchy-reconstruction-manual.ts"
Move-Item "src/test-strategy-refactoring.js" -Destination "tests/archive/manual/strategy-refactoring-manual.js"
```

### 3.2 - Tests d'int√©gration API
```powershell
# index.test.ts vers integration/api
Move-Item "src/index.test.ts" -Destination "tests/integration/api/unified-gateway-index.test.ts"
```

### 3.3 - Tests unitaires Gateway
```powershell
# UnifiedApiGateway.test.ts vers unit/gateway
Move-Item "src/__tests__/UnifiedApiGateway.test.ts" -Destination "tests/unit/gateway/unified-api-gateway.test.ts"
```

### Cr√©er README.md pour archive/manual
```powershell
@"
# Archive - Tests Manuels

Ces fichiers √©taient des scripts de tests manuels ou des fichiers obsol√®tes.

## Contenu
- \`*-manual.ts\` : Scripts d'exploration/d√©bogage manuel
- Fichiers vides ou non utilis√©s

## Raison de l'archivage
- Pas de vrais tests automatis√©s
- Utilis√©s pour d√©bogage ponctuel
- Remplac√©s par les vrais tests dans tests/

## Date d'archivage
2025-10-02

## Action recommand√©e
Conserver pour r√©f√©rence historique.
"@ | Out-File -FilePath "tests/archive/manual/README.md" -Encoding UTF8
```

### Validation
```powershell
# V√©rifier qu'il ne reste aucun fichier test dans src/
Get-ChildItem -Path "src" -Recurse -Include "*.test.ts","test-*.ts","test-*.js" | Measure-Object
```

**R√©sultat attendu** : 0 fichiers

---

## üìã √âtape 4 : Cat√©gorisation des Tests Unit

### Actions
D√©placer les tests de la racine `tests/` vers `tests/unit/` avec sous-cat√©gories.

### 4.1 - Tests Utils
```powershell
Move-Item "tests/bom-handling.test.ts" -Destination "tests/unit/utils/bom-handling.test.ts"
Move-Item "tests/timestamp-parsing.test.ts" -Destination "tests/unit/utils/timestamp-parsing.test.ts"
Move-Item "tests/versioning.test.ts" -Destination "tests/unit/utils/versioning.test.ts"
Move-Item "tests/utils/hierarchy-inference.test.ts" -Destination "tests/unit/utils/hierarchy-inference.test.ts"
```

### 4.2 - Tests Services
```powershell
Move-Item "tests/task-instruction-index.test.ts" -Destination "tests/unit/services/task-instruction-index.test.ts"
Move-Item "tests/task-navigator.test.ts" -Destination "tests/unit/services/task-navigator.test.ts"
Move-Item "tests/xml-parsing.test.ts" -Destination "tests/unit/services/xml-parsing.test.ts"

# D√©placer aussi ceux d√©j√† dans tests/services/
Move-Item "tests/services/indexing-decision.test.ts" -Destination "tests/unit/services/indexing-decision.test.ts"
Move-Item "tests/services/synthesis.service.test.ts" -Destination "tests/unit/services/synthesis.service.test.ts"
Move-Item "tests/services/task-indexer.test.ts" -Destination "tests/unit/services/task-indexer.test.ts"

# Archiver le test vide
Move-Item "tests/services/anti-leak-protections.test.ts" -Destination "tests/archive/anti-leak-protections.test.ts.TODO"
```

### 4.3 - Tests Tools (Outils MCP)
```powershell
Move-Item "tests/manage-mcp-settings.test.ts" -Destination "tests/unit/tools/manage-mcp-settings.test.ts"
Move-Item "tests/read-vscode-logs.test.ts" -Destination "tests/unit/tools/read-vscode-logs.test.ts"
Move-Item "tests/view-conversation-tree.test.ts" -Destination "tests/unit/tools/view-conversation-tree.test.ts"
```

### 4.4 - Tests d√©j√† dans tests/unit/
```powershell
# Ces tests sont d√©j√† bien plac√©s, on v√©rifie juste
Get-ChildItem -Path "tests/unit" -Filter "*.test.ts" | Select-Object Name
```

### Validation
```powershell
# Compter les tests dans tests/unit/
Get-ChildItem -Path "tests/unit" -Recurse -Filter "*.test.ts" | Measure-Object
```

**R√©sultat attendu** : ~20 fichiers dans tests/unit/

---

## üìã √âtape 5 : Cat√©gorisation des Tests Integration

### Actions
D√©placer les tests vers `tests/integration/` avec sous-cat√©gories.

### 5.1 - Tests Hi√©rarchie
```powershell
Move-Item "tests/hierarchy-real-data.test.ts" -Destination "tests/integration/hierarchy/real-data.test.ts"
Move-Item "tests/hierarchy-reconstruction-engine.test.ts" -Destination "tests/integration/hierarchy/reconstruction-engine.test.ts"
Move-Item "tests/hierarchy-reconstruction.test.ts" -Destination "tests/integration/hierarchy/full-pipeline.test.ts"
```

### 5.2 - Tests Storage
```powershell
Move-Item "tests/roo-storage-detector.test.ts" -Destination "tests/integration/storage/detector.test.ts"
```

### 5.3 - Tests API/Gateway
```powershell
Move-Item "tests/integration.test.ts" -Destination "tests/integration/api/unified-gateway.test.ts"

# Renommer et d√©placer task-tree-integration
Move-Item "tests/task-tree-integration.test.js" -Destination "tests/integration/api/task-tree.test.js"
```

### 5.4 - Tests d√©j√† dans tests/integration/
```powershell
# indexing-validation.test.js : renommer en .ts si possible, sinon laisser tel quel
# (On garde le .js pour le moment car peut contenir du code JS sp√©cifique)
```

### Validation
```powershell
# Compter les tests dans tests/integration/
Get-ChildItem -Path "tests/integration" -Recurse -Filter "*.test.*" | Measure-Object
```

**R√©sultat attendu** : ~7 fichiers dans tests/integration/

---

## üìã √âtape 6 : Cat√©gorisation des Tests E2E

### Actions
R√©organiser les tests E2E dans `tests/e2e/scenarios/`.

### Commandes
```powershell
# D√©placer les tests E2E vers scenarios/
Move-Item "tests/e2e/semantic-search.test.ts" -Destination "tests/e2e/scenarios/semantic-search.test.ts"
Move-Item "tests/e2e/task-navigation.test.ts" -Destination "tests/e2e/scenarios/task-navigation.test.ts"
Move-Item "tests/e2e/placeholder.test.ts" -Destination "tests/e2e/scenarios/placeholder.test.ts"

# D√©placer aussi proxy.ts et e2e-runner.ts s'ils existent
if (Test-Path "tests/e2e/proxy.ts") {
    Move-Item "tests/e2e/proxy.ts" -Destination "tests/e2e/scenarios/proxy.ts"
}

# e2e-runner doit rester √† la racine de tests/ (c'est un helper)
if (Test-Path "tests/e2e/e2e-runner.ts") {
    Move-Item "tests/e2e/e2e-runner.ts" -Destination "tests/helpers/e2e-runner.ts"
}
```

### Validation
```powershell
# V√©rifier les tests dans tests/e2e/scenarios/
Get-ChildItem -Path "tests/e2e/scenarios" -Filter "*.test.ts" | Measure-Object
```

**R√©sultat attendu** : 3 fichiers dans tests/e2e/scenarios/

---

## üìã √âtape 7 : Nettoyage et Helpers

### Actions
Organiser les fichiers de support et configuration.

### 7.1 - D√©placer les anciens r√©pertoires vides
```powershell
# Supprimer le r√©pertoire tests/services/ s'il est vide
if ((Get-ChildItem "tests/services" -ErrorAction SilentlyContinue).Count -eq 0) {
    Remove-Item "tests/services" -Recurse -Force
}

# Supprimer le r√©pertoire tests/utils/ s'il est vide
if ((Get-ChildItem "tests/utils" -ErrorAction SilentlyContinue).Count -eq 0) {
    Remove-Item "tests/utils" -Recurse -Force
}
```

### 7.2 - Cr√©er README pour tests/helpers
```powershell
@"
# Test Helpers

Utilitaires partag√©s pour faciliter l'√©criture et l'ex√©cution des tests.

## Contenu

### \`e2e-runner.ts\`
Runner personnalis√© pour les tests end-to-end.

## Usage

\`\`\`typescript
import { someHelper } from '../helpers/test-utils';
\`\`\`

## Ajout de nouveaux helpers

1. Cr√©er le fichier dans ce r√©pertoire
2. Documenter l'usage
3. Exporter depuis un index si n√©cessaire
"@ | Out-File -FilePath "tests/helpers/README.md" -Encoding UTF8
```

### 7.3 - Cr√©er README principal pour tests/
```powershell
@"
# Organisation des Tests - roo-state-manager

Ce r√©pertoire contient tous les tests du projet, organis√©s par type.

## Structure

\`\`\`
tests/
‚îú‚îÄ‚îÄ unit/              # Tests unitaires rapides et isol√©s
‚îÇ   ‚îú‚îÄ‚îÄ services/      # Tests des services
‚îÇ   ‚îú‚îÄ‚îÄ utils/         # Tests des utilitaires
‚îÇ   ‚îú‚îÄ‚îÄ tools/         # Tests des outils MCP
‚îÇ   ‚îî‚îÄ‚îÄ gateway/       # Tests du gateway API
‚îú‚îÄ‚îÄ integration/       # Tests d'int√©gration multi-modules
‚îÇ   ‚îú‚îÄ‚îÄ hierarchy/     # Tests de la hi√©rarchie compl√®te
‚îÇ   ‚îú‚îÄ‚îÄ storage/       # Tests de d√©tection et storage
‚îÇ   ‚îî‚îÄ‚îÄ api/           # Tests de l'API gateway
‚îú‚îÄ‚îÄ e2e/              # Tests end-to-end complets
‚îÇ   ‚îî‚îÄ‚îÄ scenarios/    # Sc√©narios utilisateur complets
‚îú‚îÄ‚îÄ fixtures/         # Donn√©es de test (conserv√©es)
‚îú‚îÄ‚îÄ config/           # Configuration Jest
‚îú‚îÄ‚îÄ helpers/          # Utilitaires de tests
‚îî‚îÄ‚îÄ archive/          # Tests obsol√®tes/d√©sactiv√©s
\`\`\`

## Conventions

### Nomenclature
- Tous les tests : \`*.test.ts\`
- Pas de \`test-*.ts\`

### Placement des nouveaux tests

**Test unitaire** (< 100ms, isol√©, mock√©) :
\`\`\`bash
tests/unit/{service|utils|tools|gateway}/mon-test.test.ts
\`\`\`

**Test d'int√©gration** (100ms-5s, multi-modules) :
\`\`\`bash
tests/integration/{hierarchy|storage|api}/mon-test.test.ts
\`\`\`

**Test end-to-end** (> 5s, sc√©nario complet) :
\`\`\`bash
tests/e2e/scenarios/mon-scenario.test.ts
\`\`\`

## Ex√©cution

\`\`\`bash
# Tous les tests
npm test

# Tests unitaires uniquement
npm run test:unit

# Tests d'int√©gration
npm run test:integration

# Tests end-to-end
npm run test:e2e

# Avec coverage
npm run test:coverage
\`\`\`

## Voir aussi

- [TESTS-ORGANIZATION.md](../TESTS-ORGANIZATION.md) - Documentation compl√®te
- [NOUVEAU-LAYOUT-TESTS.md](../NOUVEAU-LAYOUT-TESTS.md) - Justification du design
"@ | Out-File -FilePath "tests/README.md" -Encoding UTF8
```

### Validation
```powershell
# V√©rifier que tous les README sont cr√©√©s
Get-ChildItem -Path "tests" -Recurse -Filter "README.md" | Select-Object FullName
```

**R√©sultat attendu** : 3 README.md (tests/, tests/helpers/, tests/archive/)

---

## üìã √âtape 8 : Mise √† Jour des Configurations

### 8.1 - Mettre √† jour jest.config.js
```powershell
# Sauvegarder l'ancien
Copy-Item "jest.config.js" -Destination "jest.config.js.backup"
```

**Modifications √† apporter manuellement dans jest.config.js** :
```javascript
// AVANT
testMatch: [
  '**/tests/**/*.test.ts'
],

testPathIgnorePatterns: [
  '/node_modules/',
  '/build/'
]

// APR√àS
testMatch: [
  '<rootDir>/tests/**/*.test.ts',
  '<rootDir>/tests/**/*.test.js'  // Pour task-tree.test.js
],

testPathIgnorePatterns: [
  '/node_modules/',
  '/build/',
  '/tests/archive/',  // AJOUT√â : Exclure l'archive
  '/__tests__/'  // AJOUT√â : √âviter confusion avec ancien pattern
]
```

### 8.2 - Mettre √† jour package.json
```powershell
# Sauvegarder l'ancien
Copy-Item "package.json" -Destination "package.json.backup"
```

**Ajouter ces scripts dans package.json** :
```json
{
  "scripts": {
    "test:unit": "npm run pretest && cross-env NODE_OPTIONS=\"--experimental-vm-modules --max-old-space-size=4096\" jest --testPathPattern=tests/unit --runInBand",
    "test:integration": "npm run pretest && cross-env NODE_OPTIONS=\"--experimental-vm-modules --max-old-space-size=4096\" jest --testPathPattern=tests/integration --runInBand",
    "test:e2e": "npm run pretest && cross-env NODE_OPTIONS=\"--experimental-vm-modules --max-old-space-size=4096\" jest --testPathPattern=tests/e2e --runInBand",
    "test:watch": "jest --watch"
  }
}
```

### 8.3 - Mettre √† jour tests/tsconfig.json
```powershell
# Sauvegarder l'ancien si existe
if (Test-Path "tests/tsconfig.json") {
    Copy-Item "tests/tsconfig.json" -Destination "tests/tsconfig.json.backup"
}
```

**Contenu de tests/tsconfig.json** :
```json
{
  "extends": "../tsconfig.json",
  "compilerOptions": {
    "outDir": "../build/tests",
    "rootDir": ".",
    "types": ["jest", "node"]
  },
  "include": [
    "**/*.ts"
  ],
  "exclude": [
    "archive",
    "node_modules"
  ]
}
```

### Validation
```powershell
# V√©rifier que les backups sont cr√©√©s
Get-ChildItem -Path "." -Filter "*.backup" | Select-Object Name
```

**R√©sultat attendu** : 2-3 fichiers .backup

---

## üìã √âtape 9 : Mise √† Jour des Imports

### Actions
Mettre √† jour tous les imports relatifs qui ont chang√© de chemin.

### Script de D√©tection
```powershell
# Chercher tous les imports vers fixtures dans les tests
Get-ChildItem -Path "tests" -Recurse -Filter "*.test.ts" | 
    ForEach-Object {
        $content = Get-Content $_.FullName -Raw
        if ($content -match "from\s+['\"]\.\./(fixtures|config|helpers)") {
            Write-Host "Imports potentiellement √† mettre √† jour : $($_.FullName)"
        }
    }
```

### Imports √† V√©rifier

**Pour les tests d√©plac√©s vers sous-r√©pertoires** :
- `../fixtures/` ‚Üí Peut n√©cessiter `../../fixtures/` ou `../../../fixtures/`
- `./jest.setup` ‚Üí `../../jest.setup` ou `../../../jest.setup`

**Exemple de correction** :
```typescript
// AVANT (dans tests/hierarchy-reconstruction.test.ts)
import { fixtures } from './fixtures/hierarchy-test-data';

// APR√àS (dans tests/integration/hierarchy/full-pipeline.test.ts)
import { fixtures } from '../../fixtures/hierarchy-test-data';
```

### Action Manuelle Requise
‚ö†Ô∏è **Cette √©tape n√©cessite une revue manuelle** car les imports d√©pendent de la profondeur du fichier.

**M√©thode recommand√©e** :
1. Compiler avec `npm run build:tests`
2. Noter les erreurs de compilation
3. Corriger les imports un par un
4. Re-compiler jusqu'√† succ√®s

---

## üìã √âtape 10 : Validation Post-Migration

### 10.1 - Recompilation Compl√®te
```powershell
# Nettoyer le build
Remove-Item -Path "build" -Recurse -Force -ErrorAction SilentlyContinue

# Recompiler tout
npm run build
npm run build:tests
```

### 10.2 - Ex√©cution des Tests
```powershell
# Ex√©cuter la suite compl√®te
npm test > post-migration-results.log 2>&1
```

### 10.3 - Comparaison des R√©sultats
```powershell
# Comparer avec le baseline
Write-Host "=== AVANT MIGRATION ===" -ForegroundColor Yellow
Select-String -Path "pre-migration-results.log" -Pattern "Test Suites:|Tests:"

Write-Host "`n=== APR√àS MIGRATION ===" -ForegroundColor Green
Select-String -Path "post-migration-results.log" -Pattern "Test Suites:|Tests:"
```

### Crit√®res de Succ√®s
‚úÖ **M√™me nombre de tests** : 166 tests  
‚úÖ **M√™me nombre de suites qui passent** : 14 suites  
‚úÖ **Pas de nouveaux √©checs** : Seuls les √©checs Jest ESM connus  
‚úÖ **Build r√©ussi** : Aucune erreur TypeScript  

### 10.4 - Validation de la Structure
```powershell
# V√©rifier la structure finale
Get-ChildItem -Path "tests" -Directory | Select-Object Name, @{N='Fichiers';E={(Get-ChildItem $_.FullName -Recurse -Filter "*.test.*").Count}}
```

**Structure attendue** :
```
Name            Fichiers
----            --------
unit            ~20
integration     ~7
e2e             ~3
fixtures        0 (r√©pertoires de donn√©es)
config          0 (config files)
helpers         0-1 (utilitaires)
archive         ~8 (obsol√®tes)
```

---

## üìã √âtape 11 : Commit et Documentation

### 11.1 - Git Status
```powershell
git status
```

### 11.2 - Ajout des Changements
```powershell
# Ajouter tous les changements
git add .

# V√©rifier ce qui sera commit√©
git status
```

### 11.3 - Commit de la Migration
```powershell
git commit -m "refactor(tests): reorganize test structure

BREAKING CHANGE: Tests relocated for better organization

- Moved all tests from src/ to tests/
- Categorized into unit/integration/e2e
- Archived compiled files (.js/.d.ts) 
- Updated Jest configuration
- Added test:unit, test:integration, test:e2e scripts

Tests: 166 passing (same as before)
Suites: 14 passing (same as before)
"
```

### 11.4 - Cr√©er Tag
```powershell
git tag -a "tests-reorganization-v1" -m "Tests reorganization completed"
```

---

## üîÑ Plan de Rollback

En cas de probl√®me, voici comment revenir en arri√®re.

### Option 1 : Rollback Git (Recommand√©)
```powershell
# Revenir au commit avant la migration
git reset --hard HEAD~1

# Ou revenir au tag
git reset --hard <commit-hash-avant-migration>
```

### Option 2 : Restauration des Backups
```powershell
# Restaurer les configurations
Copy-Item "jest.config.js.backup" -Destination "jest.config.js" -Force
Copy-Item "package.json.backup" -Destination "package.json" -Force
Copy-Item "tests/tsconfig.json.backup" -Destination "tests/tsconfig.json" -Force

# Puis revenir √† l'√©tat Git
git checkout -- .
```

---

## üìä Checklist de Migration

Utiliser cette checklist pendant l'ex√©cution :

- [ ] √âtape 1 : Cr√©ation structure ‚úÖ
- [ ] √âtape 2 : Archivage fichiers compil√©s ‚úÖ
- [ ] √âtape 3 : Migration tests src/ ‚úÖ
- [ ] √âtape 4 : Cat√©gorisation tests unit ‚úÖ
- [ ] √âtape 5 : Cat√©gorisation tests integration ‚úÖ
- [ ] √âtape 6 : Cat√©gorisation tests e2e ‚úÖ
- [ ] √âtape 7 : Nettoyage et helpers ‚úÖ
- [ ] √âtape 8 : Mise √† jour configurations ‚úÖ
- [ ] √âtape 9 : Mise √† jour imports ‚úÖ
- [ ] √âtape 10 : Validation post-migration ‚úÖ
- [ ] √âtape 11 : Commit et documentation ‚úÖ

---

## üéì Le√ßons et Bonnes Pratiques

### Ce qui a Bien Fonctionn√©
- Structure claire par type de test
- Archivage plut√¥t que suppression
- Validation incr√©mentale
- Documentation au fur et √† mesure

### Points d'Attention
- Imports relatifs peuvent casser facilement
- Compiler apr√®s chaque groupe de d√©placements
- Garder les fixtures accessibles
- Ne pas toucher aux fichiers de config Jest pendant les d√©placements

### Pour Futures Migrations
- Toujours cr√©er une branche d√©di√©e
- Tester apr√®s chaque √©tape
- Documenter les d√©cisions
- Garder des backups

---

**Prochaine √©tape** : Ex√©cuter la migration (Phase 2.4)